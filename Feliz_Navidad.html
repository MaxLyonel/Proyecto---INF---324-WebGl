<!DOCTYPE HTML>
<html>
<head>
  <title>Cubo Color Interacción (Cuaternión) en WebGL 2.0</title>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <style>
    body {
    margin: 0;
    /*background-color: white;*/
    }
    canvas {
    /*width: 30vw;
    height: 95vh;*/
    margin-top : 15px;
    margin-left: auto;
    margin-right: auto;
    display: block;
    }
    h2 {
      text-align: center;
    }

  </style>
</head>
   <body>
      <div id="content">

        <h2>Feliz Navidad Licenciado en WebGL 2.0</h2>

        <div id="canvas-holder">
          <canvas id="webglcanvas" style="border: none;" width="1050" height="560"></canvas>
        </div>

        <div id="tools">
          <h3>Opciones:</h3>
          <p><button id="reset">Reinicia</button></p>
        </div>

      </div>

      <script id="vs" type="vertex">
        #version 300 es
        uniform mat4 uMatrizProyeccion;
        uniform mat4 uMatrizVista;
        uniform mat4 uMatrizModelo;
        layout(location = 0) in vec3 aVertices;
        layout(location = 1) in vec4 aColores;
        out vec4 vColores;
        void main() {
          vColores = aColores;  
          gl_Position = uMatrizProyeccion * uMatrizVista * uMatrizModelo * vec4(aVertices, 1.0);
        }
      </script>

      <script id="fs" type="fragment">
        #version 300 es
        precision highp float;
        //uniform vec4 uColor;
        in vec4 vColores;
        out vec4 color;
        void main() {
            color = vColores;
            //color = uColor;
        }
      </script>
	
      <script>
        "use strict";

        /* Variables globales */
        var canvas;
        var programaID;
        var gl;
        var arbol;
        var estrella;
        var esfera;
        var esfera2;
        var esfera3;        
        var regalo;
        var regalo2;
        var sillon;
        var feliz;
        var navidad;
        var piso;
        var arcBall;

        /* Variables Uniformes */
        var uColor;
        var uMatrizProyeccion;
        var uMatrizVista;
        var uMatrizModelo;

        /* Matrices */
        var MatrizProyeccion = new Array(16);
        var MatrizVista = new Array(16);
        var MatrizModelo = new Array(16);

        /* Para la interacción */
        var MatrizRotacion = new Array(16);
        var B = new Array(16);
        var boton_izq_presionado = false;

        /***************************************************************************/
        /* Se crean, compilan y enlazan los programas Shader                       */
        /***************************************************************************/
        function compilaEnlazaLosShaders() {

          /* Se compila el shader de vertice */
          var shaderDeVertice = gl.createShader(gl.VERTEX_SHADER);
          gl.shaderSource(shaderDeVertice, document.getElementById("vs").text.trim());
          gl.compileShader(shaderDeVertice);
          if (!gl.getShaderParameter(shaderDeVertice, gl.COMPILE_STATUS)) {
             console.error(gl.getShaderInfoLog(shaderDeVertice));
          }

          /* Se compila el shader de fragmento */
          var shaderDeFragmento = gl.createShader(gl.FRAGMENT_SHADER);
          gl.shaderSource(shaderDeFragmento, document.getElementById("fs").text.trim());
          gl.compileShader(shaderDeFragmento);
          if (!gl.getShaderParameter(shaderDeFragmento, gl.COMPILE_STATUS)) {
             console.error(gl.getShaderInfoLog(shaderDeFragmento));
          }

          /* Se enlaza ambos shader */
          programaID = gl.createProgram();
          gl.attachShader(programaID, shaderDeVertice); 
          gl.attachShader(programaID, shaderDeFragmento);
          gl.linkProgram(programaID);
          if (!gl.getProgramParameter(programaID, gl.LINK_STATUS)) {
             console.error(gl.getProgramInfoLog(programaID));
          }

          /* Se instala el programa de shaders para utilizarlo */
          gl.useProgram(programaID);
        }

        /***************************************************************************/
        /* La Clase Vector3                                                        */
        /***************************************************************************/

        class Vector3 {

          /**
           * Construye un nuevo Vector.
           */
          constructor(x, y, z) {
            this.x = x;
            this.y = y;
            this.z = z;
          }

          /**
           *                   u = Suma de vectores
           *  u = v1 + v2     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
           *                   u = (v1.x + v2.x, v1.y + v2.y, v1.z + v2.z)
           */
          mas(v2) {
            return (new Vector3(this.x + v2.x, this.y + v2.y, this.z + v2.z));
          }

          /**
           *                   u = Resta de vectores
           *  u = v1 - v2     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
           *                   u = (v1.x - v2.x, v1.y - v2.y, v1.z - v2.z)
           */
          menos(v2) {
            return (new Vector3(this.x - v2.x, this.y - v2.y, this.z - v2.z));
          }

          /**
           *                      u x v = Producto vectorial o producto cruz
           * u = (u.x, u.y, u.z) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
           * v = (v.x, v.y, v.z)  u x v = (u.y * v.z - u.z * v.y,   
           *                               u.z * v.x - u.x * v.z,
           *                               u.x * v.y - u.y * v.x)                  
           */
          producto_vectorial(v2) {
            var r = new Vector3();
            r.x = (this.y * v2.z) - (this.z * v2.y);
            r.y = (this.z * v2.x) - (this.x * v2.z);
            r.z = (this.x * v2.y) - (this.y * v2.x);
            return r;
          }

          /**
           *                      u . v = Producto escalar o producto punto
           * u = (u.x, u.y, u.z) ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
           * v = (v.x, v.y, v.z)  u . v = u.x v.x + u.y v.y + u.z v.z
           *                                          
           */
          producto_escalar(v2) {
            return (this.x * v2.x) + (this.y * v2.y) + (this.z * v2.z);
          }

          /**
           *                     |v| = Longitud de un vector o magnitud
           * v = (x, y, z)    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
           *                     |v| = raiz_cuadrada (x^2 + y^2 + z^2) 
           *                                          
           */
          longitud() {
            return (Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z));
          }

          /**
           *        v            u = Vector unitario o de longitud 1
           *  u  = ---        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
           *       |v|           u = Vector normalizado
           *                     
           */
          normaliza() {
            var l = this.longitud();
            if (l > 0 ) {
              this.x = this.x / l;
              this.y = this.y / l;
              this.z = this.z / l;
            }
          }

          /**
           *    3 
           *     ^
           *     |
           *   v | 
           *     |
           *     |
           *    1 --------> 2
           *          u
           */
          normal(v1, v2, v3) {
            var u = new Vector3(); // vector u
            var v = new Vector3(); // vector v
            var n = new Vector3(); // vector n

            /* Calcula los vectores u y v */
            u = v2.menos(v1);
            v = v3.menos(v1);

            /* n = u x v */
            n = u.producto_vectorial(v);
 	    
            /* Normaliza */
            n.normaliza();
 	    
            return n;
          }

          toString() {
            return "Vector3 [x=" + this.x + ", y=" + this.y + ", z=" + this.z + "]";
          }
        }

        /***************************************************************************/
        /* Transformaciones mediante matrices                                      */
        /***************************************************************************/

        /* Convierte de grados a radianes */
        function toRadians(grados) {
          return grados * Math.PI / 180;
        };

        /* Matriz Identidad */
        function identidad(r) {
          r[0] = 1; r[4] = 0; r[ 8] = 0; r[12] = 0;
          r[1] = 0; r[5] = 1; r[ 9] = 0; r[13] = 0;
          r[2] = 0; r[6] = 0; r[10] = 1; r[14] = 0;
          r[3] = 0; r[7] = 0; r[11] = 0; r[15] = 1;
        }

        /* Traslación - glTranslatef */
        function traslacion(matriz, tx, ty, tz) {
          var r = new Array(16);
          r[0] = 1; r[4] = 0; r[ 8] = 0; r[12] = tx;
          r[1] = 0; r[5] = 1; r[ 9] = 0; r[13] = ty;
          r[2] = 0; r[6] = 0; r[10] = 1; r[14] = tz;
          r[3] = 0; r[7] = 0; r[11] = 0; r[15] =  1;
          multiplica(matriz, matriz, r);
        }

        /* Escalación - glScalef */
        function escalacion(matriz, sx, sy, sz) { 
          var r = new Array(16);
          r[0] = sx; r[4] =  0; r[ 8] =  0; r[12] =  0;
          r[1] =  0; r[5] = sy; r[ 9] =  0; r[13] =  0;
          r[2] =  0; r[6] =  0; r[10] = sz; r[14] =  0;
          r[3] =  0; r[7] =  0; r[11] =  0; r[15] =  1;
          multiplica(matriz, matriz, r);
        }

        /* Rotación sobre X - glRotatef */
        function rotacionX(matriz, theta){
          let r = new Array(16);
          var c = Math.cos(toRadians(theta));
          var s = Math.sin(toRadians(theta));
          r[0] =  1; r[4] =  0; r[ 8] =  0; r[12] = 0;
          r[1] =  0; r[5] =  c; r[ 9] = -s; r[13] = 0;
          r[2] =  0; r[6] =  s; r[10] =  c; r[14] = 0;
          r[3] =  0; r[7] =  0; r[11] =  0; r[15] = 1;
          multiplica(matriz, matriz, r); 
        }

        /* Rotación sobre Y - glRotatef */
        function rotacionY(matriz, theta){
          let r = new Array(16);
          var c = Math.cos(toRadians(theta));
          var s = Math.sin(toRadians(theta));
          r[0] =  c; r[4] =  0; r[ 8] =  s; r[12] = 0;
          r[1] =  0; r[5] =  1; r[ 9] =  0; r[13] = 0;
          r[2] = -s; r[6] =  0; r[10] =  c; r[14] = 0;
          r[3] =  0; r[7] =  0; r[11] =  0; r[15] = 1;
          multiplica(matriz, matriz, r);
        }
	
        /* Rotación sobre Z - glRotatef */
        function rotacionZ(matriz, theta){
          let r = new Array(16);
          var c = Math.cos(toRadians(theta));
          var s = Math.sin(toRadians(theta));
          r[0] =  c; r[4] = -s; r[ 8] =  0; r[12] = 0;
          r[1] =  s; r[5] =  c; r[ 9] =  0; r[13] = 0;
          r[2] =  0; r[6] =  0; r[10] =  1; r[14] = 0;
          r[3] =  0; r[7] =  0; r[11] =  0; r[15] = 1;
          multiplica(matriz, matriz, r);
        }

        /* Proyección Paralela - glOrtho */
        function ortho(r, izq, der, abj, arr, cerca, lejos) {
          r[0] = 2/(der - izq); r[4] =             0; r[ 8] =                  0; r[12] =         -(der + izq)/(der - izq);
          r[1] =             0; r[5] = 2/(arr - abj); r[ 9] =                  0; r[13] =         -(arr + abj)/(arr - abj);
          r[2] =             0; r[6] =             0; r[10] = -2/(lejos - cerca); r[14] = -(lejos + cerca)/(lejos - cerca);
          r[3] =             0; r[7] =             0; r[11] =                  0; r[15] =                                1;
        }

        /* Proyección Perspectiva - glFrustum */
        function frustum(r, izq, der, abj, arr, cerca, lejos) {
          r[0] = 2*cerca/(der-izq); r[4] =                 0; r[ 8] =          (der+izq)/(der-izq); r[12] =                            0;
          r[1] =                 0; r[5] = 2*cerca/(arr-abj); r[ 9] =          (arr+abj)/(arr-abj); r[13] =                            0;
          r[2] =                 0; r[6] =                 0; r[10] = -(lejos+cerca)/(lejos-cerca); r[14] = -2*lejos*cerca/(lejos-cerca);
          r[3] =                 0; r[7] =                 0; r[11] =                           -1; r[15] =                            0;
        }

        /* Proyección Perspectiva - gluPerspective */
        function perspective(r, fovy, aspecto, cerca, lejos) {
          var ang = fovy * 0.5;
          var f = (Math.abs(Math.sin(toRadians(ang))) < 1e-8 ? 0 : 1) / Math.tan(toRadians(ang));
          r[0] = f/aspecto; r[4] = 0; r[ 8] =                                  0; r[12] =                                       0;
          r[1] =         0; r[5] = f; r[ 9] =                                  0; r[13] =                                       0;
          r[2] =         0; r[6] = 0; r[10] = -(lejos + cerca) / (lejos - cerca); r[14] =  -2.0 * lejos * cerca / (lejos - cerca);
          r[3] =         0; r[7] = 0; r[11] =                              - 1.0; r[15] =                                       0;
        }

        /* Multiplicación de matrices de 4 x 4 */
        function multiplica(c, a, b) {
          let r = new Array(16);
          let i, j, k;
          for (i = 0; i < 4; i++){
            for (j = 0; j < 4; j++){
              let s = 0;
              for (k = 0; k < 4; k++)
                s = s + a[i + k * 4] * b[k + j * 4];
                r[i + j * 4] = s;
              }
            }
          for (i = 0; i < 16; i++)
            c[i] = r[i];
        }


        var Punto2f = function(x, y) {
          // Atributos publicos
          this.x = x;
          this.y = y;
        }

        class ArcBall {

          /**
           * Construye un nuevo ArcBall.
           */
          constructor(w, h) {
            this.Epsilon = 1.0e-5;
            this.U = new Vector3();
            this.V = new Vector3();
            this.ajusta(w, h);
          }

          /* Ajusta el ancho y alto de la ventana */
          ajusta(w, h) {
            if (!((w > 1.0) && (h > 1.0)))
              document.write("ERROR");

            /* Ajusta el factor para el ancho y alto (2 = [-1..1]) */
            this.ajustaAncho = 2.0 / (w - 1.0);
            this.ajustaAlto = 2.0 / (h - 1.0);
          }

          /* Obtiene el vector dado un punto (x,y) */
          obtieneVector(vector, x, y) {
            /* Copia punto */
            let temp = new Punto2f(x, y);

            /* Ajusta las coordenadas del punto al rango [-1..1] */
            temp.x = (temp.x * this.ajustaAncho) - 1.0;
            temp.y = 1.0 - (temp.y * this.ajustaAlto);

            /* Calcula el cuadrado de la longitud del vector */
            let longitud2 = (temp.x * temp.x) + (temp.y * temp.y);
		
            /* 
             * Considerando que: radio^2 = x^2 + y^2 + z^2
             * ¿Cuales son los valores de x, y y z?
             * 
             * Si el punto está fuera de la esfera... (longitud2 > 1)
             */

            if (longitud2 > 1.0) {
              /* Calcula un factor de normalización (radio / sqrt(longitud2)) */
              let norma = (1.0 / Math.sqrt(longitud2));

              /* Retorna el vector "normalizado", un punto sobre la esfera */
              vector.x = temp.x * norma;
              vector.y = temp.y * norma;
              vector.z = 0.0;
            } else { /* e.o.c. está dentro */
              /*
               * Retorna un vector, un punto dentro la esfera 
               * z = sqrt(radio^cuadrado - (x^2 + y^2))
               */
              vector.x = temp.x;
              vector.y = temp.y;
              vector.z = Math.sqrt(1.0 - longitud2);
            }
          }

          /* Obtiene el vector U */
          primerPunto(x, y) {
            this.obtieneVector(this.U, x, y);
          }

          /* Obtiene el Cuaternion de U y V */
          segundoPunto(x, y) {

            let q = new Cuaternion();

            /* Obtiene el vector V */
            this.obtieneVector(this.V, x, y);

            /* Retorna el cuaternión equivalente a la rotación. */
            if (q != null) {

              /* Calcula la Normal = U x V */
              let Normal = this.U.producto_vectorial(this.V);

              /* Calcula la longitud de la normal */
              if (Normal.longitud() > this.Epsilon) { /* si no es cero */
                q.x = Normal.x;
                q.y = Normal.y;
                q.z = Normal.z;
                /* w  = (theta / 2), donde theta es el ángulo de rotación */
                q.w = this.U.producto_escalar(this.V);
              } else { /* si es cero */
                /* U y V coinciden */
                q.x = q.y = q.z = q.w = 0.0;
              }
            }
            return q;
          }
        }


        class Cuaternion {

          /**
           * Construye un nuevo Cuaternion.
           */
          constructor(w, x, y, z) {
            this.w = w;
            this.x = x;
            this.y = y;
            this.z = z;
          }

          inicializa(w, v) {
            this.w = w;
            this.x = v.x;
            this.y = v.y;
            this.z = v.z;
          }

          // norma^2 = w^2 + x^2 + y^2 + z^2
          norma2() {
            return (w * w + x * x + y * y + z * z);
          }

          // Conjugado
          conjugado() {
            x = -this.x;
            y = -this.y;
            z = -this.z;
            return this;
          }

          // Cuaternion q = Cuaternion a . Cuaternion b
          multiplica(a, b) {
            let q = new Cuaternion(0,0,0,0);

            q.w = a.w * b.w - a.x * b.x - a.y * b.y - a.z * b.z;
            q.x = a.w * b.x + a.x * b.w + a.y * b.z - a.z * b.y;
            q.y = a.w * b.y - a.x * b.z + a.y * b.w + a.z * b.x;
            q.z = a.w * b.z + a.x * b.y - a.y * b.x + a.z * b.w;

            return q;
          }

          // Cuaternion q = Cuaternion a . b
          multiplica_escalar(a, b) {
            let q = new Cuaternion(0,0,0,0);

            q.w = a.w * b;
            q.x = a.x * b;
            q.y = a.y * b;
            q.z = a.z * b;

            return q;
          }

          // q' = q . p . q^(-1)
          rota(q, p) {
            let p_homogeneo = new Cuaternion(0, 0, 0, 0);
            p_homogeneo.inicializa(0, p);
            let p_prima = this.multiplica(q, this.multiplica(p_homogeneo, q.inverso()));
            return (new Vector3(p_prima.x, p_prima.y, p_prima.z));
          }
	
          // q' = q . p . q*
          rota1(q, p) {
            let p_homogeneo = new Cuaternion(0, 0, 0, 0);
            p_homogeneo.inicializa(0, p);
            let p_prima = this.multiplica(q, this.multiplica(p_homogeneo, q.conjugado()));
            return (new Vector3(p_prima.x, p_prima.y, p_prima.z));
          }

          // q = q^(-1)
          inverso() {
            let q = new Cuaternion(0,0,0,0);
            // normal^2 = a . b
            let n = norma2();
            if (n <= 1e-8)
              document.write("INVERSO: Error");
            q = multiplica(new Cuaternion(w, -x, -y, -z), 1 / n);
            return q;
          }

          /* Convierte el cuaternión a una matriz de rotación */
          static rota2(a, q) {
            let d, s;

            d = (q.x * q.x) + (q.y * q.y) + (q.z * q.z) + (q.w * q.w);
            s = (d > 0.0) ? (2.0 / d) : 0.0;

            a[0] =  1.0 - (q.y*q.y + q.z*q.z) * s; a[4] =        (q.x*q.y - q.w*q.z) * s; a[8]  =        (q.x*q.z + q.w*q.y) * s; a[12] = 0;
            a[1] =        (q.x*q.y + q.w*q.z) * s; a[5] = 1.0  - (q.x*q.x + q.z*q.z) * s; a[9]  =        (q.y*q.z - q.w*q.x) * s; a[13] = 0;
            a[2] =        (q.x*q.z - q.w*q.y) * s; a[6] =        (q.y*q.z + q.w*q.x) * s; a[10] = 1.0  - (q.x*q.x + q.y*q.y) * s; a[14] = 0;
            a[3] =                              0; a[7] =                              0; a[11] =                              0; a[15] = 1;
          }

          toString() {
            return "Cuaternion [w=" + this.w + ", x=" + this.x + ", y=" + this.y + ", z=" + this.z + "]";
          }
        }
        class ArbolNavidad {
          constructor(gl) {

            /* Las coordenadas cartesianas (x, y, z) */
            var vertices = [    
              // ------------------------ Primer Nivel ------------------------
              // base triángulo 1
              -1.2, -1, -1.2, // 0  0
               1.2, -1, -1.2, // 1  1
               1.2, -1,  1.2, // 2  2 
              // base triángulo 2
              -1.2, -1, -1.2, // 0  3
              -1.2, -1,  1.2, // 3  4
               1.2, -1,  1.2, // 2  5
              // frente triangulo
              -1.2, -1,  1.2,// 3   6
               1.2, -1,  1.2, // 2  7
               0,    0,    0, // 4  8 * 2
              // costado derecho triángulo
               1.2, -1, -1.2, // 1  9
               1.2, -1,  1.2, // 2  10
               0,    0,    0, // 4  11 * 2
              // costado izquierdo triángulo
              -1.2, -1,  1.2, // 3  12
              -1.2, -1, -1.2, // 0  13
               0,    0,    0, // 4  14 * 2
              // posterior triángulo
              -1.2, -1, -1.2, // 0  15
               1.2, -1, -1.2, // 1  16
               0,    0,    0, // 4  17 * 2
              // ---------------------------- Segundo Nivel -------------------------
              // base triángulo 1
              -1.1, -.7, -1.1, // 0  18
               1.1, -.7, -1.1, // 1  19
               1.1, -.7,  1.1, // 2  20 
              // base triángulo 2
              -1.1, -.7, -1.1, // 0  21
              -1.1, -.7,  1.1, // 3  22
               1.1, -.7,  1.1, // 2  23
              // frente triangulo
              -1.1, -.7,  1.1, // 3  24
               1.1, -.7,  1.1, // 2  25
               0,    .3,    0, // 4  26 *
              // costado derecho triángulo
               1.1, -.7, -1.1, // 1  27
               1.1, -.7,  1.1, // 2  28
               0,    .3,    0, // 4  29 *
              // costado izquierdo triángulo
              -1.1, -.7,  1.1, // 3  30
              -1.1, -.7, -1.1, // 0  31
               0,    .3,    0, // 4  32 *
              // posterior triángulo
              -1.1, -.7, -1.1, // 0  33
               1.1, -.7, -1.1, // 1  34
               0,    .3,    0, // 4  35 *
              // ------------------------------- Tercer Nivel -----------------------
              // base triángulo 1
               -1, -.4,  -1, // 0  36
                1, -.4,  -1, // 1  37
                1, -.4,   1, // 2  38 
              // base triángulo 2
               -1, -.4,  -1, // 0  39
               -1, -.4,   1, // 3  40
                1, -.4,   1, // 2  41
              // frente triangulo
               -1, -.4,   1, // 3  42
                1, -.4,   1, // 2  43
                0,  .3,   0, // 4  44 *
              // costado derecho triángulo
                1, -.4,  -1, // 1  45
                1, -.4,   1, // 2  46
                0,  .3,   0, // 4  47 *
              // costado izquierdo triángulo
               -1, -.4,   1, // 3  48
               -1, -.4,  -1, // 0  49
                0,  .3,   0, // 4  50 *
              // posterior triángulo
               -1, -.4,  -1, // 0  51
                1, -.4,  -1, // 1  52
                0,  .3,   0, // 4  53 *
              // ------------------------------- Cuarto Nivel --------------------------
              // base triángulo 1
              -.9, -.1, -.9, // 0  54
               .9, -.1, -.9, // 1  55
               .9, -.1,  .9, // 2  56 
              // base triángulo 2
              -.9, -.1, -.9, // 0  57
              -.9, -.1,  .9, // 3  58
               .9, -.1,  .9, // 2  59
              // frente triangulo
              -.9, -.1,  .9, // 3  60
               .9, -.1,  .9, // 2  61
                0,  .6,   0, // 4  62 *
              // costado derecho triángulo
               .9, -.1, -.9, // 1  63
               .9, -.1,  .9, // 2  64
                0,  .6,   0, // 4  65 *
              // costado izquierdo triángulo
              -.9, -.1,  .9, // 3  66
              -.9, -.1, -.9, // 0  67
                0,  .6,   0, // 4  68 *
              // posterior triángulo
              -.9, -.1, -.9, // 0  69
               .9, -.1, -.9, // 1  71
                0,  .6,   0, // 4  72 *         
              // ------------------------------- Quinto Nivel --------------------------
              // base triángulo 1
              -.8,  .2, -.8, // 0  73
               .8,  .2, -.8, // 1  74
               .8,  .2,  .8, // 2  75 
              // base triángulo 2
              -.8,  .2, -.8, // 0  76
              -.8,  .2,  .8, // 3  77
               .8,  .2,  .8, // 2  78
              // frente triangulo
              -.8,  .2,  .8, // 3  79
               .8,  .2,  .8, // 2  80
                0,  .9,   0, // 4  81 *
              // costado derecho triángulo
               .8,  .2, -.8, // 1  82
               .8,  .2,  .8, // 2  83
                0,  .9,   0, // 4  84 *
              // costado izquierdo triángulo
              -.8,  .2,  .8, // 3  85
              -.8,  .2, -.8, // 0  86
                0,  .9,   0, // 4  87 *
              // posterior triángulo
              -.8,  .2, -.8, // 0  88
               .8,  .2, -.8, // 1  89
                0,  .9,   0, // 4  90 *     
              // ------------------------------- Sexto Nivel --------------------------
              // base triángulo 1
              -.7,  .5, -.7, // 0  91
               .7,  .5, -.7, // 1  92
               .7,  .5,  .7, // 2  93 
              // base triángulo 2
              -.7,  .5, -.7, // 0  94
              -.7,  .5,  .7, // 3  95
               .7,  .5,  .7, // 2  96
              // frente triangulo
              -.7,  .5,  .7, // 3  97
               .7,  .5,  .7, // 2  98
                0,  1.5,  0, // 4  99 *
              // costado derecho triángulo
               .7,  .5, -.7, // 1  100
               .7,  .5,  .7, // 2  101
                0,  1.5,  0, // 4  102 *
              // costado izquierdo triángulo
              -.7,  .5,  .7, // 3  103
              -.7,  .5, -.7, // 0  104
                0,  1.5,  0, // 4  105 *
              // posterior triángulo
              -.7,  .5, -.7, // 0  106
               .7,  .5, -.7, // 1  107
                0,  1.5,  0, // 4  108 *  
              // ------------------------------ Tallo -------------------------------
              // arriba
              -.2, -1, -.2, // 3 109
               .2, -1, -.2, // 2 110
               .2, -1,  .2, // 6 111
              -.2, -1, -.2, // 3 112
               .2, -1,  .2, // 7 113
              -.2, -1,  .2, // 6 114
              // abajo
              -.2, -1.5, -.2, // 0 115 *
               .2, -1.5, -.2, // 1 116 *
               .2, -1.5,  .2, // 5 117 *
              -.2, -1.5, -.2, // 0 118 *
               .2, -1.5,  .2, // 4 119 *
              -.2, -1.5,  .2, // 5 120 *
              // frente
               .2, -1,   .2, // 7 121
               .2, -1.5, .2, // 4 122 *
              -.2, -1.5, .2, // 5 123 *
               .2, -1,   .2, // 7 124
              -.2, -1,   .2, // 6 125
              -.2, -1.5, .2, // 5 126 *
              // atras
              -.2, -1,   -.2, // 3 127
               .2, -1,   -.2, // 2 128
              -.2, -1.5, -.2, // 0 129 *
               .2,  -1,  -.2, // 2 130
               .2, -1.5, -.2, // 1 131 *
              -.2, -1.5, -.2, // 0 132 *
              // izquierda
              -.2, -1,    .2, // 6 133
              -.2, -1,   -.2, // 3 134
              -.2, -1.5, -.2, // 0 135 *
              -.2, -1,    .2, // 6 136
              -.2, -1.5, -.2, // 0 137 *
              -.2, -1.5,  .2, // 5 138 *
              // derecha
              .2, -1,    .2, // 7 139
              .2, -1,   -.2, // 2 140
              .2, -1.5, -.2, //   141 *
              .2, -1,    .2, // 7 142
              .2, -1.5,  .2, // 4 143 *
              .2, -1.5, -.2, // 1 144 *
            ];
            var colores = [
                // ------------ Primer Nivel -----------
                // Base
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                // frente
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                // derecha
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                // izquierda
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                // Posterior
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1, 
                // ------------ Segundo Nivel ------------------ 
                // Base
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                // frente
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                // derecha
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                // izquierda
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                // Posterior
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,  
                // -------------- Tercer Nivel ---------------------
                // Base
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                // frente
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                // derecha
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                // izquierda
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                // Posterior
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1, 
                // ---------------- Cuarto NIvel -------------------
                // Base
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                // frente
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                // derecha
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                // izquierda
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                // Posterior
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                // ------------------ Quinto Nivel ----------
                // Base
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                // frente
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                // derecha
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                // izquierda
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                // Posterior
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1, 
                // ---------------- Sexto Nivel -----------------
                // Base
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,
                // frente
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                43/255, 152/255, 32/255, 1, 
                // derecha
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                30/255, 96/255, 24/255, 1,
                // izquierda
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                20/255, 119/255, 10/255, 1,
                // Posterior
                23/255, 44/255, 21/255, 1, 
                23/255, 44/255, 21/255, 1,
                23/255, 44/255, 21/255, 1,

                // -------------------- Tallo del Árbol -------------------
                // Base superior
                128/255, 64/255, 0, 1,
                128/255, 64/255, 0, 1, 
                128/255, 64/255, 0, 1, 
                0, 1, 0, 1, 
                0, 1, 0, 1, 
                0, 1, 0, 1, 
                // Base inferior
                128/255, 64/255, 0, 1, // 0  70
                128/255, 64/255, 0, 1, // 1  71
                128/255, 64/255, 0, 1, // 5  72
                128/255, 64/255, 0, 1, // 0  70
                128/255, 64/255, 0, 1, // 1  71
                128/255, 64/255, 0, 1, // 5  72

                128/255, 64/255, 0, 1, // 5  67
                128/255, 64/255, 0, 1, // 1  68
                128/255, 64/255, 0, 1, // 2  69
                // tallo del arbol
                128/255, 64/255, 0, 1, // 0  70
                128/255, 64/255, 0, 1, // 1  71
                128/255, 64/255, 0, 1, // 5  72
                // izquierda
                128/255, 64/255, 0, 1, // 5  73
                128/255, 64/255, 0, 1, // 1  74
                128/255, 64/255, 0, 1, // 2  75
                // posterior
                128/255, 64/255, 0, 1, // 0  76
                128/255, 64/255, 0, 1, // 1  77
                128/255, 64/255, 0, 1, // 5  78
                // izquierda
                128/255, 64/255, 0, 1, // 5  79
                128/255, 64/255, 0, 1, // 1  80
                128/255, 64/255, 0, 1, // 2  81
                // posterior
                128/255, 64/255, 0, 1, // 0  82
                128/255, 64/255, 0, 1, // 1  83
                128/255, 64/255, 0, 1, // 5  84

                128/255, 64/255, 0, 1, // 4  85
                128/255, 64/255, 0, 1, // 5  86
                128/255, 64/255, 0, 1, // 6  87
                128/255, 64/255, 0, 1, // 4  88
                128/255, 64/255, 0, 1, // 5  89
                128/255, 64/255, 0, 1, // 6  90
            ];
            var indices = [ 
              0,  1,  2, 
              3,  4,  5, 
              6,  7,  8,  
              9,  10, 11,
              12, 13, 14, 
              15, 16, 17, // --------Primer Nivel-----------------
              18, 19, 20,
              21, 22, 23,
              24, 25, 26,
              27, 28, 29,
              30, 31, 32,
              33, 34, 35, // --------Segundo Nivel----------------- 
              36, 37, 38, 
              39, 40, 41, 
              42, 43, 44,
              45, 46, 47,
              48, 49, 50,
              51, 52, 53, // --------Tercer Nivel -----------------
              54, 55, 56,
              57, 58, 59,
              60, 61, 62,
              63, 64, 65,
              66, 67, 68,
              69, 70, 71, // --------Cuarto Nivel ------------------
              72, 73, 74,
              75, 76, 77,
              78, 79, 80,
              81, 82, 83,
              84, 85, 86,
              87, 88, 89, // --------Quinto Nivel ------------------
              90, 91, 92,
              93, 94, 95,
              96, 97, 98,
              99, 100, 101,
              102, 103, 104,
              105, 106, 107,
              198, 109, 110,
              111, 112, 113,
              114, 115, 116,
              117, 118, 119,
              120, 121, 122,
              123, 124, 125,
              126, 127, 128,
              129, 130, 131,
              132, 133, 134,
              135, 136, 137,
              138, 139, 140,
              141, 142, 143,
            ];

            /* Se crea el objeto del arreglo de vértices (VAO) */
            this.arbolVAO = gl.createVertexArray();

            /* Se activa el objeto */
            gl.bindVertexArray(this.arbolVAO);

            /* Se genera un nombre (código) para el buffer */ 
            var codigoVertices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoVertices);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los vértices (indice = 0) */
            gl.enableVertexAttribArray(0);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);

            /* Se genera un nombre (código) para el buffer */ 
            var codigoColores = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los colores (indice = 1) */
            gl.enableVertexAttribArray(1);

            /* Se especifica el arreglo de colores */
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);

            /* Se genera un nombre (código) para el buffer */
            var codigoDeIndices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, codigoDeIndices);

            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);

          }

          dibuja(gl) {

            /* Se activa el objeto del arreglo de vértices */
            gl.bindVertexArray(this.arbolVAO);

            /* Renderiza las primitivas desde los datos de los arreglos (vértices,
             * colores e indices) */
            gl.drawElements(gl.TRIANGLES, 144, gl.UNSIGNED_SHORT, 0);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

          }
        }

        class Estrella {
          constructor(gl) {
            var vertices = [
                // ------ Frente ------
                // primer triángulo
                -1, -1, 0,
                 0,  0, 0,
                 0,  2, 0, 
                // Segundo Triángulo
                 1, -1, 0,
                 0,  0, 0,
                 0,  2, 0,
                // Tercer Triángulo
                 0,  0, 0,
                -1.5, 1, 0,
                 1.5, 1, 0,
                // -------- Atrás ------
                // primer triángulo
                -1, -1, -.5,
                 0,  0, -.5,
                 0,  2, -.5, 
                // Segundo Triángulo
                 1, -1, -.5,
                 0,  0, -.5,
                 0,  2, -.5,
                // Tercer Triángulo
                 0,  0, -.5,
                -1.5, 1, -.5,
                 1.5, 1, -.5,
                 // -------- Cuerpo ------
                -1.5, 1,  0,
                 1.5, 1,  0,
                -1.5, 1,-.5,
                 1.5, 1,  0,
                -1.5, 1,-.5,
                 1.5, 1,-.5,
                -1,  -1,  0, //
                 0,   2,  0,
                 0,   2,-.5,
                -1,  -1,  0,
                 0,   2,-.5,
                -1,  -1,-.5,
                 1,  -1,  0, //
                 0,   2,  0,
                 0,   2,-.5,
                 1,  -1,-.5,
                 1,  -1,  0,
                 0,   2,-.5, 


            ];
            var colores = [
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
            ];
            var indices = [
                0, 1, 2,
                3, 4, 5,
                6, 7, 8,
                9, 10,11,
                12,13,14,
                15,16,17,
                18, 19, 20,
                21, 22, 23,
                24, 25, 26,
                27, 28, 29,
                30, 31, 32,
                33, 34, 35,
                
            ];
            /* Se crea el objeto del arreglo de vértices (VAO) */
            this.estrellaVAO = gl.createVertexArray();

            /* Se activa el objeto */
            gl.bindVertexArray(this.estrellaVAO);

            /* Se genera un nombre (código) para el buffer */ 
            var codigoVertices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoVertices);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los vértices (indice = 0) */
            gl.enableVertexAttribArray(0);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);

            /* Se genera un nombre (código) para el buffer */ 
            var codigoColores = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los colores (indice = 1) */
            gl.enableVertexAttribArray(1);

            /* Se especifica el arreglo de colores */
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);

            /* Se genera un nombre (código) para el buffer */
            var codigoDeIndices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, codigoDeIndices);

            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
          }
        
          dibuja(gl) {

            /* Se activa el objeto del arreglo de vértices */
            gl.bindVertexArray(this.estrellaVAO);

            /* Renderiza las primitivas desde los datos de los arreglos (vértices,
             * colores e indices) */
            gl.drawElements(gl.TRIANGLES, 36, gl.UNSIGNED_SHORT, 0);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

          }
        }

        class Esfera {

          /* segmentosH = slices o longitud, segmentosV = stacks o latitud  */
          constructor(gl, radio, segmentosH, segmentosV) {
            /**
             * 
             *            0,4,12,8
             *            /  |  \                   1
             *        /     5|13    \
             *    1 ---------|--------- 9
             *     |         |         |
             *     |         |         |            2
             *     |         |         |
             *     |        6|14       |
             *    2 ---------|--------- 10
             *        \      |      /
             *            \  |  /                   3 segmentos vérticales (1/2 vuelta)
             *            3,7,15,11
             *    
             *          1,2      3,4 segmentos horizontales (1 vuelta)
             */

            /**
             *    0 ------- 3
             *     | \     | 
             *     |   \   |
             *     |     \ |
             *    1 ------- 2  
             *
             *    0,1,2,  0,2,3   =>  6 vertices
             */ 

            this.cantidadDeIndices = segmentosH * segmentosV * 12; // 6 vert (c/cuadrado)

            /* Las coordenadas cartesianas (x, y) */
            var vertices = [];

            /* Indices */
            var indices = []; 
            var colores = [];
            for (var q = 0; q < this.cantidadDeIndices; q ++) {
                colores.push(241/255);
                colores.push(196/255);
                colores.push(15/255);
                colores.push(1);
            }
            /* Se leen los vertices y las normales */

            var inc_phi = 360 / segmentosH; // 1 vuelta
		
            // longitud
            for (var phi = 0; phi < 360; phi += inc_phi) {
              var sp = Math.sin(toRadians(phi));
              var cp = Math.cos(toRadians(phi));
              var sp1 = Math.sin(toRadians(phi + inc_phi));
              var cp1 = Math.cos(toRadians(phi + inc_phi));
			
              var inc_theta = 180 / segmentosV; // 1/2 vuelta
			
              // latitud
              for (var theta = 0; theta < 180; theta += inc_theta) {
                var st = Math.sin(toRadians(theta));
                var ct = Math.cos(toRadians(theta));
                var st1 = Math.sin(toRadians(theta + inc_theta));
                var ct1 = Math.cos(toRadians(theta + inc_theta));

                vertices.push(radio * st * sp);
                vertices.push(radio * ct);
                vertices.push(radio * st * cp);
				
                vertices.push(radio * st1 * sp);
                vertices.push(radio * ct1);
                vertices.push(radio * st1 * cp);
				
                vertices.push(radio * st1 * sp1);
                vertices.push(radio * ct1);
                vertices.push(radio * st1 * cp1);
				
                vertices.push(radio * st * sp1);
                vertices.push(radio * ct);
                vertices.push(radio * st * cp1);
              }
            }

            /* Se leen los indices */
     	
            /**
             *    0 ------- 3
             *     | \     | 
             *     |   \   |
             *     |     \ |
             *    1 ------- 2  
             */ 
            for (var k = 0, j = 0; k < this.cantidadDeIndices; k += 12, j += 4) {
              indices.push(j);
              indices.push(j + 1);
              indices.push(j + 1);
              indices.push(j + 2);
              indices.push(j + 2);
              indices.push(j);
              indices.push(j);
              indices.push(j + 2);
              indices.push(j + 2);
              indices.push(j + 3);
              indices.push(j + 3);
              indices.push(j);
            }

            /* Se crea el objeto del arreglo de vértices (VAO) */
            this.esferaVAO = gl.createVertexArray();

            /* Se activa el objeto */
            gl.bindVertexArray(this.esferaVAO);


            /* Se genera un nombre (código) para el buffer */ 
            var verticeBuffer = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, verticeBuffer);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los vértices (indice = 0) */
            gl.enableVertexAttribArray(0);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);

            // ------------------------------------------------------
            /* Se genera un nombre (código) para el buffer */ 
            var codigoColores = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los colores (indice = 1) */
            gl.enableVertexAttribArray(1);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);


            /* Se genera un nombre (código) para el buffer */
            var indiceBuffer = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indiceBuffer);

            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);


            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);

          }

          dibuja(gl) {

            /* Se activa el objeto del arreglo de vértices */
            gl.bindVertexArray(this.esferaVAO);

            /* Renderiza las primitivas desde los datos de los arreglos (vértices,
             * normales e indices) */
            gl.drawElements(gl.LINES, this.cantidadDeIndices, gl.UNSIGNED_SHORT, 0);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

          }
        }      

        class Esfera2 {

          /* segmentosH = slices o longitud, segmentosV = stacks o latitud  */
          constructor(gl, radio, segmentosH, segmentosV) {
            /**
             * 
             *            0,4,12,8
             *            /  |  \                   1
             *        /     5|13    \
             *    1 ---------|--------- 9
             *     |         |         |
             *     |         |         |            2
             *     |         |         |
             *     |        6|14       |
             *    2 ---------|--------- 10
             *        \      |      /
             *            \  |  /                   3 segmentos vérticales (1/2 vuelta)
             *            3,7,15,11
             *    
             *          1,2      3,4 segmentos horizontales (1 vuelta)
             */

            /**
             *    0 ------- 3
             *     | \     | 
             *     |   \   |
             *     |     \ |
             *    1 ------- 2  
             *
             *    0,1,2,  0,2,3   =>  6 vertices
             */ 

            this.cantidadDeIndices = segmentosH * segmentosV * 12; // 6 vert (c/cuadrado)

            /* Las coordenadas cartesianas (x, y) */
            var vertices = [];

            /* Indices */
            var indices = []; 
            var colores = [];
            for (var q = 0; q < this.cantidadDeIndices; q ++) {
                colores.push(239/255);
                colores.push(18/255);
                colores.push(18/255);
                colores.push(1);
            }
            /* Se leen los vertices y las normales */

            var inc_phi = 360 / segmentosH; // 1 vuelta
		
            // longitud
            for (var phi = 0; phi < 360; phi += inc_phi) {
              var sp = Math.sin(toRadians(phi));
              var cp = Math.cos(toRadians(phi));
              var sp1 = Math.sin(toRadians(phi + inc_phi));
              var cp1 = Math.cos(toRadians(phi + inc_phi));
			
              var inc_theta = 180 / segmentosV; // 1/2 vuelta
			
              // latitud
              for (var theta = 0; theta < 180; theta += inc_theta) {
                var st = Math.sin(toRadians(theta));
                var ct = Math.cos(toRadians(theta));
                var st1 = Math.sin(toRadians(theta + inc_theta));
                var ct1 = Math.cos(toRadians(theta + inc_theta));

                vertices.push(radio * st * sp);
                vertices.push(radio * ct);
                vertices.push(radio * st * cp);
				
                vertices.push(radio * st1 * sp);
                vertices.push(radio * ct1);
                vertices.push(radio * st1 * cp);
				
                vertices.push(radio * st1 * sp1);
                vertices.push(radio * ct1);
                vertices.push(radio * st1 * cp1);
				
                vertices.push(radio * st * sp1);
                vertices.push(radio * ct);
                vertices.push(radio * st * cp1);
              }
            }

            /* Se leen los indices */
     	
            /**
             *    0 ------- 3
             *     | \     | 
             *     |   \   |
             *     |     \ |
             *    1 ------- 2  
             */ 
            for (var k = 0, j = 0; k < this.cantidadDeIndices; k += 12, j += 4) {
              indices.push(j);
              indices.push(j + 1);
              indices.push(j + 1);
              indices.push(j + 2);
              indices.push(j + 2);
              indices.push(j);
              indices.push(j);
              indices.push(j + 2);
              indices.push(j + 2);
              indices.push(j + 3);
              indices.push(j + 3);
              indices.push(j);
            }

            /* Se crea el objeto del arreglo de vértices (VAO) */
            this.esferaVAO = gl.createVertexArray();

            /* Se activa el objeto */
            gl.bindVertexArray(this.esferaVAO);


            /* Se genera un nombre (código) para el buffer */ 
            var verticeBuffer = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, verticeBuffer);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los vértices (indice = 0) */
            gl.enableVertexAttribArray(0);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);

            // ------------------------------------------------------
            /* Se genera un nombre (código) para el buffer */ 
            var codigoColores = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los colores (indice = 1) */
            gl.enableVertexAttribArray(1);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);


            /* Se genera un nombre (código) para el buffer */
            var indiceBuffer = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indiceBuffer);

            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);


            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);

          }

          dibuja(gl) {

            /* Se activa el objeto del arreglo de vértices */
            gl.bindVertexArray(this.esferaVAO);

            /* Renderiza las primitivas desde los datos de los arreglos (vértices,
             * normales e indices) */
            gl.drawElements(gl.LINES, this.cantidadDeIndices, gl.UNSIGNED_SHORT, 0);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

          }
        }

        class Esfera3 {

          /* segmentosH = slices o longitud, segmentosV = stacks o latitud  */
          constructor(gl, radio, segmentosH, segmentosV) {
            /**
             * 
             *            0,4,12,8
             *            /  |  \                   1
             *        /     5|13    \
             *    1 ---------|--------- 9
             *     |         |         |
             *     |         |         |            2
             *     |         |         |
             *     |        6|14       |
             *    2 ---------|--------- 10
             *        \      |      /
             *            \  |  /                   3 segmentos vérticales (1/2 vuelta)
             *            3,7,15,11
             *    
             *          1,2      3,4 segmentos horizontales (1 vuelta)
             */

            /**
             *    0 ------- 3
             *     | \     | 
             *     |   \   |
             *     |     \ |
             *    1 ------- 2  
             *
             *    0,1,2,  0,2,3   =>  6 vertices
             */ 

            this.cantidadDeIndices = segmentosH * segmentosV * 12; // 6 vert (c/cuadrado)

            /* Las coordenadas cartesianas (x, y) */
            var vertices = [];

            /* Indices */
            var indices = []; 
            var colores = [];
            for (var q = 0; q < this.cantidadDeIndices; q ++) {
                colores.push(14/255);
                colores.push(84/255);
                colores.push(245/255);
                colores.push(1);
            }
            /* Se leen los vertices y las normales */

            var inc_phi = 360 / segmentosH; // 1 vuelta
		
            // longitud
            for (var phi = 0; phi < 360; phi += inc_phi) {
              var sp = Math.sin(toRadians(phi));
              var cp = Math.cos(toRadians(phi));
              var sp1 = Math.sin(toRadians(phi + inc_phi));
              var cp1 = Math.cos(toRadians(phi + inc_phi));
			
              var inc_theta = 180 / segmentosV; // 1/2 vuelta
			
              // latitud
              for (var theta = 0; theta < 180; theta += inc_theta) {
                var st = Math.sin(toRadians(theta));
                var ct = Math.cos(toRadians(theta));
                var st1 = Math.sin(toRadians(theta + inc_theta));
                var ct1 = Math.cos(toRadians(theta + inc_theta));

                vertices.push(radio * st * sp);
                vertices.push(radio * ct);
                vertices.push(radio * st * cp);
				
                vertices.push(radio * st1 * sp);
                vertices.push(radio * ct1);
                vertices.push(radio * st1 * cp);
				
                vertices.push(radio * st1 * sp1);
                vertices.push(radio * ct1);
                vertices.push(radio * st1 * cp1);
				
                vertices.push(radio * st * sp1);
                vertices.push(radio * ct);
                vertices.push(radio * st * cp1);
              }
            }

            /* Se leen los indices */
     	
            /**
             *    0 ------- 3
             *     | \     | 
             *     |   \   |
             *     |     \ |
             *    1 ------- 2  
             */ 
            for (var k = 0, j = 0; k < this.cantidadDeIndices; k += 12, j += 4) {
              indices.push(j);
              indices.push(j + 1);
              indices.push(j + 1);
              indices.push(j + 2);
              indices.push(j + 2);
              indices.push(j);
              indices.push(j);
              indices.push(j + 2);
              indices.push(j + 2);
              indices.push(j + 3);
              indices.push(j + 3);
              indices.push(j);
            }

            /* Se crea el objeto del arreglo de vértices (VAO) */
            this.esferaVAO = gl.createVertexArray();

            /* Se activa el objeto */
            gl.bindVertexArray(this.esferaVAO);


            /* Se genera un nombre (código) para el buffer */ 
            var verticeBuffer = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, verticeBuffer);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los vértices (indice = 0) */
            gl.enableVertexAttribArray(0);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);

            // ------------------------------------------------------
            /* Se genera un nombre (código) para el buffer */ 
            var codigoColores = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los colores (indice = 1) */
            gl.enableVertexAttribArray(1);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);


            /* Se genera un nombre (código) para el buffer */
            var indiceBuffer = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indiceBuffer);

            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);


            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);

          }

          dibuja(gl) {

            /* Se activa el objeto del arreglo de vértices */
            gl.bindVertexArray(this.esferaVAO);

            /* Renderiza las primitivas desde los datos de los arreglos (vértices,
             * normales e indices) */
            gl.drawElements(gl.LINES, this.cantidadDeIndices, gl.UNSIGNED_SHORT, 0);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

          }
        }

        class Regalo {
          constructor(gl) {
            /* Las coordenadas cartesianas (x, y, z) */
            var vertices = [
               // Frente
               -1, -1,  1, // 4   0
                2, -1,  1, // 5   1
                2,  1,  1, // 6   2
               -1,  1,  1, // 7   3
               // Atrás
               -1,  1, -1, // 3   4
                2,  1, -1, // 2   5
                2, -1, -1, // 1   6
               -1, -1, -1, // 0   7
               // Izquierda
               -1, -1, -1, // 0   8
               -1, -1,  1, // 4   9
               -1,  1,  1, // 7  10 
               -1,  1, -1, // 3  11
               // Derecha
                2, -1,  1, // 5  12 
                2, -1, -1, // 1  13
                2,  1, -1, // 2  14
                2,  1,  1, // 6  15
               // Abajo
               -1, -1, -1, // 0  16
                2, -1, -1, // 1  17
                2, -1,  1, // 5  18
               -1, -1,  1, // 4  19
               // Arriba
               -1,  1,  1, // 7  20
                2,  1,  1, // 6  21
                2,  1, -1, // 2  22
               -1,  1, -1, // 3  23
               // --- Moño Lateral------
               // Derecha
               2.02, -1.02, .2, // 24
               2.02, -1.02,-.2, // 25
               2.02,  1.02, .2, // 26
               2.02,  1.02,-.2, // 27
               // izquierda
               -1.02, -1.02, -.2, // 28
               -1.02, -1.02,  .2, // 29
               -1.02,  1.02,  .2, // 30 
               -1.02,  1.02, -.2, // 31
               // Moño frontal
                .3, -1.02, 1.02, // 32
                .7, -1.02, 1.02, // 33
                .3,  1.02,  1.02,// 34
                .7,  1.02,  1.02,// 35
               // Atrás
                .3, -1.02,-1.02, // 36
                .7, -1.02,-1.02, // 37
                .3,  1.02,-1.02, // 38
                .7,  1.02,-1.02, // 39
            ];

            /* Los colores x c/vértice (r,g,b,a) */
            var colores = [
               // Frente - lila
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 1  13
               1, 0, 0, 1, // 2  14
               1, 0, 0, 1, // 6  15	
               // Atrás - amarillo
               100/255, 30/255, 22/255, 1,
               100/255, 30/255, 22/255, 1,
               100/255, 30/255, 22/255, 1,
               100/255, 30/255, 22/255, 1,
               // Izquierda - celeste
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 1  13
               1, 0, 0, 1, // 2  14
               1, 0, 0, 1, // 6  15
               // Derecha - rojo
               100/255, 30/255, 22/255, 1,
               100/255, 30/255, 22/255, 1,
               100/255, 30/255, 22/255, 1,
               100/255, 30/255, 22/255, 1,
               // Abajo - azul
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 1  13
               1, 0, 0, 1, // 2  14
               1, 0, 0, 1, // 6  15
               // Arriba - verde
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 1  13
               1, 0, 0, 1, // 2  14
               1, 0, 0, 1, // 6  15

               // ---Moño --
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
               1, 1, 1, 1, // 5  12
            ];

            /* Indices */
            var indices = [ 
              0,  1,  2,  0,  2,  3, // Frente
              4,  5,  6,  4,  6,  7, // Atrás
              8,  9, 10,  8, 10, 11, // Izquierda 
             12, 13, 14, 12, 14, 15, // Derecha
             16, 17, 18, 16, 18, 19, // Abajo
             20, 21, 22, 20, 22, 23,  // Arriba
             24, 25, 26, 25, 26, 27,
             28, 29, 30, 28, 30, 31,
             26, 27, 31, 31, 30, 26,
             32, 33, 34, 33, 34, 35,
             36, 37, 38, 37, 38, 39,
             34, 38, 39, 34, 35, 39,

            ];

            /* Se crea el objeto del arreglo de vértices (VAO) */
            this.regaloVAO = gl.createVertexArray();

            /* Se activa el objeto */
            gl.bindVertexArray(this.regaloVAO);


            /* Se genera un nombre (código) para el buffer */ 
            var codigoVertices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoVertices);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los vértices (indice = 0) */
            gl.enableVertexAttribArray(0);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);


            /* Se genera un nombre (código) para el buffer */ 
            var codigoColores = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los colores (indice = 1) */
            gl.enableVertexAttribArray(1);

            /* Se especifica el arreglo de colores */
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);


            /* Se genera un nombre (código) para el buffer */
            var codigoDeIndices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, codigoDeIndices);

            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);


            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);

          }

          dibuja(gl) {

            /* Se activa el objeto del arreglo de vértices */
            gl.bindVertexArray(this.regaloVAO);

            /* Renderiza las primitivas desde los datos de los arreglos (vértices,
             * colores e indices) */
            gl.drawElements(gl.TRIANGLES, 72, gl.UNSIGNED_SHORT, 0);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

          }
        }

        class Regalo2 {
          constructor(gl) {
            /* Las coordenadas cartesianas (x, y, z) */
            var vertices = [
               // Frente
               -1, -1,  1, // 4   0
                2, -1,  1, // 5   1
                2,  1,  1, // 6   2
               -1,  1,  1, // 7   3
               // Atrás
               -1,  1, -1, // 3   4
                2,  1, -1, // 2   5
                2, -1, -1, // 1   6
               -1, -1, -1, // 0   7
               // Izquierda
               -1, -1, -1, // 0   8
               -1, -1,  1, // 4   9
               -1,  1,  1, // 7  10 
               -1,  1, -1, // 3  11
               // Derecha
                2, -1,  1, // 5  12 
                2, -1, -1, // 1  13
                2,  1, -1, // 2  14
                2,  1,  1, // 6  15
               // Abajo
               -1, -1, -1, // 0  16
                2, -1, -1, // 1  17
                2, -1,  1, // 5  18
               -1, -1,  1, // 4  19
               // Arriba
               -1,  1,  1, // 7  20
                2,  1,  1, // 6  21
                2,  1, -1, // 2  22
               -1,  1, -1, // 3  23
               // --- Moño Lateral------
               // Derecha
               2.02, -1.02, .2, // 24
               2.02, -1.02,-.2, // 25
               2.02,  1.02, .2, // 26
               2.02,  1.02,-.2, // 27
               // izquierda
               -1.02, -1.02, -.2, // 28
               -1.02, -1.02,  .2, // 29
               -1.02,  1.02,  .2, // 30 
               -1.02,  1.02, -.2, // 31
               // Moño frontal
                .3, -1.02, 1.02, // 32
                .7, -1.02, 1.02, // 33
                .3,  1.02,  1.02,// 34
                .7,  1.02,  1.02,// 35
               // Atrás
                .3, -1.02,-1.02, // 36
                .7, -1.02,-1.02, // 37
                .3,  1.02,-1.02, // 38
                .7,  1.02,-1.02, // 39
            ];

            /* Los colores x c/vértice (r,g,b,a) */
            var colores = [
               // Frente - lila
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               // Atrás - amarillo
               142/255, 138/255, 138/255, 1,
               142/255, 138/255, 138/255, 1,
               142/255, 138/255, 138/255, 1,
               142/255, 138/255, 138/255, 1,
               // Izquierda - celeste
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               // Derecha - rojo
               142/255, 138/255, 138/255, 1,
               142/255, 138/255, 138/255, 1,
               142/255, 138/255, 138/255, 1,
               142/255, 138/255, 138/255, 1,
               // Abajo - azul
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               // Arriba - verde
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,
               244/255, 224/255, 224/255, 1,

               // ---Moño --
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
               1, 0, 0, 1, // 5  12
            ];

            /* Indices */
            var indices = [ 
              0,  1,  2,  0,  2,  3, // Frente
              4,  5,  6,  4,  6,  7, // Atrás
              8,  9, 10,  8, 10, 11, // Izquierda 
             12, 13, 14, 12, 14, 15, // Derecha
             16, 17, 18, 16, 18, 19, // Abajo
             20, 21, 22, 20, 22, 23,  // Arriba
             24, 25, 26, 25, 26, 27,
             28, 29, 30, 28, 30, 31,
             26, 27, 31, 31, 30, 26,
             32, 33, 34, 33, 34, 35,
             36, 37, 38, 37, 38, 39,
             34, 38, 39, 34, 35, 39,

            ];

            /* Se crea el objeto del arreglo de vértices (VAO) */
            this.regaloVAO = gl.createVertexArray();

            /* Se activa el objeto */
            gl.bindVertexArray(this.regaloVAO);


            /* Se genera un nombre (código) para el buffer */ 
            var codigoVertices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoVertices);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los vértices (indice = 0) */
            gl.enableVertexAttribArray(0);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);


            /* Se genera un nombre (código) para el buffer */ 
            var codigoColores = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los colores (indice = 1) */
            gl.enableVertexAttribArray(1);

            /* Se especifica el arreglo de colores */
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);


            /* Se genera un nombre (código) para el buffer */
            var codigoDeIndices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, codigoDeIndices);

            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);


            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);

          }

          dibuja(gl) {

            /* Se activa el objeto del arreglo de vértices */
            gl.bindVertexArray(this.regaloVAO);

            /* Renderiza las primitivas desde los datos de los arreglos (vértices,
             * colores e indices) */
            gl.drawElements(gl.TRIANGLES, 72, gl.UNSIGNED_SHORT, 0);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

          }
        }
                
        class Sillon {
          constructor(gl) {
            /* Las coordenadas cartesianas (x, y, z) */
            var vertices = [
            
               // Frente
               -1, -1,  1, // 4   0
                3, -1,  1, // 5   1
                3,  .5,  1, // 6   2
               -1,  .5,  1, // 7   3
               // Atrás
               -1,  .5, -1, // 3   4
                3,  .5, -1, // 2   5
                3, -1, -1, // 1   6
               -1, -1, -1, // 0   7
               // Izquierda
               -1, -1, -1, // 0   8
               -1, -1,  1, // 4   9
               -1,  .5,  1, // 7  10 
               -1,  .5, -1, // 3  11
               // Derecha
                3, -1,  1, // 5  12 
                3, -1, -1, // 1  13
                3,  .5, -1, // 2  14
                3,  .5,  1, // 6  15
               // Abajo
               -1, -1, -1, // 0  16
                3, -1, -1, // 1  17
                3, -1,  1, // 5  18
               -1, -1,  1, // 4  19
               // Arriba
               -1,  .5,  1, // 7  20
                3,  .5,  1, // 6  21
                3,  .5, -1, // 2  22
               -1,  .5, -1, // 3  23
               // Lateral derecho
               3.01, -1,  1, // 5   24
               3.01, -1, -1, // 25
               3.01, 1.5, 1, // 26
               3.01, 1.5, -1, // 27

               4, -1, 1, // 28
               4, -1, -1, // 29
               4, 1.5, 1, // 30
               4, 1.5, -1, // 31

               // Lateral izquierdo
               -1.01, -1,  1, // 32
               -1.01, -1, -1, // 33
               -1.01,  1.5,  1, // 34
               -1.01,  1.5, -1, // 35
               -2, -1, 1, // 36
               -2, -1, -1, // 37
               -2, 1.5, 1, // 38
               -2, 1.5, -1, // 39
               
               // Parte psoterior
               -1.5,  -1, -1.01, // 40
                3.5,  -1, -1.01, // 41
               -1.5, 2.5, -1.01, // 42
                3.5, 2.5, -1.01, // 43

               -1.5, -1,  -2, // 44 
                3.5, -1,  -2, // 45
               -1.5, 2.5, -2, // 46
                3.5, 2.5, -2, // 47
               
            ];

            /* Los colores x c/vértice (r,g,b,a) */
            var colores = [
               // Frente - lila
               110/255, 93/255, 13/255,  1,
               110/255, 93/255, 13/255,  1,
               110/255, 93/255, 13/255,  1,
               110/255, 93/255, 13/255,  1,
               // Atrás - amarillo
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               // Izquierda - celeste
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               // Derecha - rojo
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               // Abajo - azul
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               // Arriba - verde               
               201/255, 172/255, 42/255, 1,
               201/255, 172/255, 42/255, 1,
               201/255, 172/255, 42/255, 1,
               201/255, 172/255, 42/255, 1,
               // Lateral derecho
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               77/255, 64/255, 6/255, 1,
               77/255, 64/255, 6/255, 1,
               77/255, 64/255, 6/255, 1,
               77/255, 64/255, 6/255, 1,
               // laterla izquierdo
               77/255, 64/255, 6/255, 1,
               77/255, 64/255, 6/255, 1,
               77/255, 64/255, 6/255, 1,
               77/255, 64/255, 6/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,

               // Posterior
               77/255, 64/255, 6/255, 1,
               77/255, 64/255, 6/255, 1,
               77/255, 64/255, 6/255, 1,
               77/255, 64/255, 6/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               177/255, 148/255, 15/255, 1,
               
            ];

            /* Indices */
            var indices = [ 
              0,  1,  2,  0,  2,  3, // Frente
              4,  5,  6,  4,  6,  7, // Atrás
              8,  9, 10,  8, 10, 11, // Izquierda 
             12, 13, 14, 12, 14, 15, // Derecha
             16, 17, 18, 16, 18, 19, // Abajo
             20, 21, 22, 20, 22, 23,  // Arriba
             24, 25, 26, 25, 26, 27,
             28, 29, 30, 29, 30, 31,
             24, 28, 26, 26, 30, 28,
             25, 29, 27, 27, 29, 31,
             26, 27, 31, 26, 30, 31,
             32, 33, 34, 33, 34, 35,
             36, 37, 38, 37, 38, 39,
             36, 32, 38, 38, 32, 34,
             38, 34, 39, 34, 39, 35,
             37, 39, 35, 37, 33, 35,
             40, 41, 42, 41, 42, 43,
             44, 45, 46, 45, 46, 47,
             40, 42, 46, 46, 44, 40,
             41, 43, 47, 47, 45, 41,
             42, 43, 46, 47, 46, 43,
            ];

            /* Se crea el objeto del arreglo de vértices (VAO) */
            this.regaloVAO = gl.createVertexArray();

            /* Se activa el objeto */
            gl.bindVertexArray(this.regaloVAO);


            /* Se genera un nombre (código) para el buffer */ 
            var codigoVertices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoVertices);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los vértices (indice = 0) */
            gl.enableVertexAttribArray(0);

            /* Se especifica el arreglo de vértices */
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);


            /* Se genera un nombre (código) para el buffer */ 
            var codigoColores = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
         
            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);

            /* Se habilita el arreglo de los colores (indice = 1) */
            gl.enableVertexAttribArray(1);

            /* Se especifica el arreglo de colores */
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);


            /* Se genera un nombre (código) para el buffer */
            var codigoDeIndices = gl.createBuffer();

            /* Se asigna un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, codigoDeIndices);

            /* Se transfiere los datos desde la memoria nativa al buffer de la GPU */
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);


            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ARRAY_BUFFER, null);

            /* Se deja de asignar un nombre (código) al buffer */
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);

          }
          dibuja(gl) {

            /* Se activa el objeto del arreglo de vértices */
            gl.bindVertexArray(this.regaloVAO);

            /* Renderiza las primitivas desde los datos de los arreglos (vértices,
             * colores e indices) */
            gl.drawElements(gl.TRIANGLES, 126, gl.UNSIGNED_SHORT, 0);

            /* Se desactiva el objeto del arreglo de vértices */
            gl.bindVertexArray(null);

          }
        }
        
        class Feliz {
          constructor(gl) {
            var vertices = [
                // -------------------- F --------------------------
                // Frente
                -1, -1, 1, // 0
               -.5, -1, 1, // 1
                -1,  1, 1, // 2
               -.5,  1, 1, // 3  
                // Atras
                -1, -1, .5, // 4
               -.5, -1, .5, // 5
                -1,  1, .5, // 6
               -.5,  1, .5, // 7 
                // Barra Superior frente
               -.5, .5,  1, // 8
                 0, .5,  1, // 9
                -1,  1,  1, // 10
                 0,  1,  1, // 11
                // Barra Superior atrás
               -.5, .5, .5, // 12
                 0, .5, .5, // 13
                -1,  1, .5, // 14
                 0,  1, .5, // 15
                // Barra Inferior frente
               -.5, .2,  1, // 16
                 0, .2,  1, // 17
               -.5,-.2,  1, // 18
                 0,-.2,  1, // 19 
                // Barra Inferior Atrás
               -.5, .2, .5, // 20
                 0, .2, .5, // 21
               -.5,-.2, .5, // 22
                 0,-.2, .5, // 23 
                // -------------------- E -------------------------- 
                // Frente
                 1, -1, 1, // 24
                .5, -1, 1, // 25
                 1,  1, 1, // 26
                .5,  1, 1, // 27 
                // Atrás
                 1, -1, .5, // 28
                .5, -1, .5, // 29
                 1,  1, .5, // 30
                .5,  1, .5, // 31
                // Barra Superior frente
                  1, .5,  1, // 32
                1.5, .5,  1, // 33
                  1,  1,  1, // 34
                1.5,  1,  1, // 35
                // Barra Superior atrás
                  1, .5, .5, // 36
                1.5, .5, .5, // 37
                  1,  1, .5, // 38
                1.5,  1, .5, // 39
                // Barra Inferior frente
                  1, .2,  1, // 40
                1.5, .2,  1, // 41
                  1,-.2,  1, // 42
                1.5,-.2,  1, // 43 
                // Barra Inferior atrás
                  1, .2, .5, // 44
                1.5, .2, .5, // 45
                  1,-.2, .5, // 46
                1.5,-.2, .5, // 47 
                // Barra Bajo frente
                  1, -1,  1, // 48
                1.5, -1,  1, // 49
                  1,-.5,  1, // 50
                1.5,-.5,  1, // 51 
                // Barra Bajo atrás
                  1, -1, .5, // 52
                1.5, -1, .5, // 53
                  1,-.5, .5, // 54
                1.5,-.5, .5, // 55 
                // -------------------- L -------------------------- 
                // Frente
                2.5, -1, 1, // 56
                  2, -1, 1, // 57
                2.5,  1, 1, // 58
                  2,  1, 1, // 59 
                // Barra Bajo frente
                2.5, -1, 1, // 60
                  3, -1, 1, // 61 + 1
                2.5,-.5, 1, // 62 
                  3,-.5, 1, // 63 + 1 
                // atrás
                2.5, -1,.5, // 64
                  2, -1,.5, // 65
                2.5,  1,.5, // 66
                  2,  1,.5, // 67 
                // Barra abajo atrás
                2.5, -1, .5, // 68
                  3, -1, .5, // 69 + 1
                2.5,-.5, .5, // 70 
                  3,-.5, .5, // 71 + 1
                // -------------------- I --------------------------
                // Frente
                  4, -1, 1, // 72
                3.5, -1, 1, // 73
                  4,  1, 1, // 74
                3.5,  1, 1, // 75  
                // Atrás
                  4, -1, .5, // 76
                3.5, -1, .5, // 77
                  4,  1, .5, // 78
                3.5,  1, .5, // 79 
                // -------------------- Z --------------------------
                // Barra superior frente
                5.7,  .5, 1, // 80
                4.5,  .5, 1, // 81
                5.7,  1, 1, // 82
                4.5,  1, 1, // 83
                // Barra inferior frente
                5.7, -1, 1, // 84
                4.5, -1, 1, // 85
                5.7, -.5, 1, // 86
                4.5, -.5, 1, // 87
                // Diagonal 
                5.7, .5, 1, // 88 // arriba der
                4.5,-.5, 1, // 89 // abajo izq
                5.3, .5, 1, // 90 // arriba izq
                4.9,-.5, 1, // 91 // abajo der
                // Barra superior atrás
                5.7,  .5, .5, // 92
                4.5,  .5, .5, // 93
                5.7,  1, .5, // 94
                4.5,  1, .5, // 95
                // Barra inferior atrás
                5.7, -1, .5, // 96
                4.5, -1, .5, // 97
                5.7, -.5, .5, // 98
                4.5, -.5, .5, // 99
                // Diagonal atrás
                5.7, .5, .5, // 100 // arriba der
                4.5,-.5, .5, // 101 // abajo izq
                5.3, .5, .5, // 102 // arriba izq
                4.9,-.5, .5, // 103 // abajo der


            ];
            var colores = [
                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,

                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,

                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,

                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,

                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,

                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                15/255, 125/255, 241/255, 1, 
                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,

                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,

                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,

                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,
                15/255, 125/255, 241/255, 1,

                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,

                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,
                1, 0, 0, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,

                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
                241/255, 196/255, 15/255, 1,
            ];
            var indices = [
                0,  1,  2,  1,  2,  3, // Frente F
                4,  5,  6,  5,  6,  7, // Atrás F
                8,  9, 10,  9, 10, 11, // barra Sup frente
               12, 13, 14, 13, 14, 15, // barra Sup atrás
               16, 17, 18, 17, 18, 19, // barra Inf frente
               20, 21, 22, 21, 22, 23, // barra Inf atrás
                0,  4,  2,  4,  2,  6, // Lateral izquierdo palo
                1,  5,  3,  3,  5,  7, // Lateral derecho palo
                2, 11,  6, 11,  6, 15, // Lateral arriba Barra Sup
               16, 17, 20, 17, 20, 21, // Lateral arriba barra Inf  
               11, 15, 13, 11, 13,  9, // Lateral derecho barra Sup
               17, 21, 23, 17, 23, 19, // Lateral derecho barra Inf
               24, 25, 26, 25, 26, 27, // Frente E
               28, 29, 30, 29, 30, 31, // Atras E
               32, 33, 34, 33, 34, 35, // Barra Sup Frente
               36, 37, 38, 37, 38, 39, // Barra Sup Atrás
               40, 41, 42, 41, 42, 43, // Barra Inf Frente
               44, 45, 46, 45, 46, 47, // Barra Inf atrás
               48, 49, 50, 49, 50, 51, // Barra Bajo Frente
               52, 53, 54, 53, 54, 55, // Barra Bajo atrás
               24, 28, 26, 26, 28, 30, // Lateral derecho palo
               25, 29, 27, 27, 29, 31, // Lateral Izquierdo palo
               27, 31, 35, 35, 31, 39, // Lateral arriba barra Sup
               40, 41, 44, 41, 44, 45, // Lateral arriba barra inf
               50, 51, 54, 54, 51, 55, // Lateral arriba barra bajo
               48, 52, 49, 52, 49, 53, // Lateral abajo barra bajo
               35, 33, 39, 33, 39, 37, // Lateral derecho barra Sup
               41, 43, 45, 43, 45, 47, // Lateral derecho barra Inf
               56, 57, 58, 57, 58, 59, // Frente L
               60, 61, 62, 61, 62, 63, // Barra bajo frente
               64, 65, 66, 65, 66, 67, // Atrás
               68, 69, 70, 69, 70, 71, // Barra bajo atrás
               56, 64, 58, 58, 64, 66, // Lateral derecha palo
               57, 65, 59, 59, 65, 67, // Lateral izquierda palo
               58, 59, 66, 59, 66, 67, // Lateral arriba 
               56, 64, 61, 64, 61, 69, // Lateral abajo
               61, 63, 69, 63, 69, 71, // Lateral derecha abajo
               72, 73, 74, 73, 74, 75, // Frente I
               76, 77, 78, 77, 78, 79, // Atrás I
               72, 74, 76, 74, 76, 78, // Lateral derecha palo
               73, 75, 77, 75, 77, 79, // Lateral izquierda palo
               74, 75, 78, 75, 78, 79, // Lateral arriba
               80, 81, 82, 81, 82, 83, // Barra superior Z
               84, 85, 86, 85, 86, 87, // Barra inferior Z
               88, 89, 90, 88, 89, 91, // DIagonal
               92, 93, 94, 93, 94, 95, // Barra superior atrás z
               96, 97, 98, 97, 98, 99, // Barra inferior atrás z
               100, 101, 102, 100, 101, 103, // Diagonal atrás
               80, 92, 82, 82, 92, 94, // Lateral derecha
               81, 93, 83, 83, 93, 95, // Lateral izquierda
               82, 94, 83, 83, 94, 95, // Lateral arriba
               89, 101, 90, 90, 101, 102, // Lateral diagonal izquierda
               88, 91, 103, 91, 103, 100, // Lateral diagonal derecha
               84, 96, 85, 85, 96, 97, // Lateral abajo
               86, 98, 87, 98, 87, 99, // Lateral abajo sup
               87, 85, 99, 85, 99, 97, // lateral abajo der
               83, 81, 95, 81, 95, 93, // lateral arriba der
            ];
            
            this.letrafVAO = gl.createVertexArray();            
            gl.bindVertexArray(this.letrafVAO);            
            var codigoVertices = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoVertices);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
            gl.enableVertexAttribArray(0);
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);
            var codigoColores = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);
            gl.enableVertexAttribArray(1);
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);
            var codigoDeIndices = gl.createBuffer();
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, codigoDeIndices);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);
            gl.bindVertexArray(null);
            gl.bindBuffer(gl.ARRAY_BUFFER, null);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
          }
          dibuja(gl) {            
            gl.bindVertexArray(this.letrafVAO);
            gl.drawElements(gl.TRIANGLES, 342, gl.UNSIGNED_SHORT, 0);
            gl.bindVertexArray(null);
          }
        }

        class Navidad {
          constructor(gl) {
            var vertices = [
                // -------------------- N --------------------------
                // Frente palo 1
                 -5, -1, 1, // 0
               -4.5, -1, 1, // 1
                 -5,  1, 1, // 2
               -4.5,  1, 1, // 3  
               // Atrás palo 1
                 -5, -1, .5, // 4
               -4.5, -1, .5, // 5
                 -5,  1, .5, // 6
               -4.5,  1, .5, // 7 
               // Frente palo 2
               -3.5, -1, 1, // 8
                 -3, -1, 1, // 9
               -3.5,  1, 1, // 10
                 -3,  1, 1, // 11  
               // Atrás palo 2
               -3.5, -1, .5, // 12
                 -3, -1, .5, // 13
               -3.5,  1, .5, // 14
                 -3,  1, .5, // 15  
               // Parte central frente
               -4.5,  1, 1, // 16  
               -3.5, -1, 1, // 17
               -4.5, .5, 1, // 18
               -3.5,-.5, 1, // 19
                // Parte central atrás
               -4.5,  1, .5, // 20  
               -3.5, -1, .5, // 21
               -4.5, .5, .5, // 22
               -3.5,-.5, .5, // 23  
               // ---------------------- A -----------------------               
                // Palo diagonal 1
               -2.5, -1, 1, // 24 * 24
                 -2,  1, 1, // 27 * 25
               -1.5,  1, 1, // 30 * 26
                 -2, -1, 1, // 25 * 27 
                // Palo diagonal 2
                 -1, -1, 1, // 29  28
               -1.5, -1, 1, // 28  29
                 -2,  1, 1, // 27  30
               -1.5,  1, 1, // 30  31
                // Palo diagonal 1 atrás
               -2.5, -1, .5, // 24 * 32
                 -2,  1, .5, // 27 * 33
               -1.5,  1, .5, // 30 * 34
                 -2, -1, .5, // 25 * 35
                // Palo diagonal 2 atrás
                 -1, -1, .5, // 29 36
               -1.5, -1, .5, // 28 37
                 -2,  1, .5, // 27 38
               -1.5,  1, .5, // 30 39
                // -------------------- V --------------------------
                
                // Diagonal Frente 1 
                .5, -1, 1, // 45 40
                 0,  1, 1, // 43  41
               -.5,  1, 1, // 42 42
                 0, -1, 1, // 41 43
                // Diagonal Frente 2
                 0, -1, 1, // 41 44
                 1,  1, 1, // 46 45
                .5,  1, 1, // 47 46
                .5, -1, 1, // 45 47
                // Diagonal atrás 1 
                .5, -1, .5, // 45 48
                 0,  1, .5, // 43 49
               -.5,  1, .5, // 42 50
                 0, -1, .5, // 41 51
                 // Diagonal Atrás 2
                 0, -1, .5, // 41 52
                 1,  1, .5, // 46 53
                .5,  1, .5, // 47 54
                .5, -1, .5, // 45 55
                // ------------------- I ---------------------
                // Frente  
                   2, -1, 1, // 56 cada 1.5
                 1.5, -1, 1, // 57
                   2,  1, 1, // 58
                 1.5,  1, 1, // 59 
                // Atrás
                   2, -1, .5, // 60 cada 1.5
                 1.5, -1, .5, // 61
                   2,  1, .5, // 62
                 1.5,  1, .5, // 63
                //----------------------D ----------------------- 
                 // Frente palo 
                  3, -1, 1, // 64
                2.5, -1, 1, // 65
                  3,  1, 1, // 66
                2.5,  1, 1, // 67
                // Palo aux
                  4, -.3, 1, // 68
                3.5, -.3, 1, // 69
                  4,  .3, 1, // 70
                3.5,  .3, 1, // 71
                // Diagonal 1
                  3,  1, 1, // 66 72
                  4, .3, 1, // 70 73
                3.5, .3, 1, // 71 74
                  3, .6, 1, //  75 
                // Diagonal 2
                  3,  -1, 1, // 64 76
                  4, -.3, 1, // 68 77
                3.5, -.3, 1, // 69 78
                  3, -.6, 1, //  79
                // Atrás palo
                  3, -1, .5, // 80
                2.5, -1, .5, // 81
                  3,  1, .5, // 82
                2.5,  1, .5, // 83
                // Palo aux atrás
                  4, -.3, .5, // 84
                3.5, -.3, .5, // 85
                  4,  .3, .5, // 86
                3.5,  .3, .5, // 87
                // Diagonal 1 atrás
                  3,  1, .5, // 66 88
                  4, .3, .5, // 70 89
                3.5, .3, .5, // 71 90
                  3, .6, .5, //  91 
                // Diagonal 2
                  3,  -1, .5, // 64 92
                  4, -.3, .5, // 68 93
                3.5, -.3, .5, // 69 94
                  3, -.6, .5, //  95
                // ---------------------- A -----------------------               
                // Palo diagonal 1
                4.3, -1, 1, // 24 * 96   -2.5
                4.7,  1, 1, // 27 * 97   -2
                5.2,  1, 1, // 30 * 98   -1.5
                4.8, -1, 1, // 25 * 99   -2
                // Palo diagonal 2
                  6, -1, 1, // 29  100
                5.5, -1, 1, // 28  101
                4.8,  1, 1, // 27  102
                5.5,  1, 1, // 30  103
                // Palo diagonal 1 atrás
                4.3, -1, .5, // 24 * 104   -2.5
                4.7,  1, .5, // 27 * 105   -2
                5.2,  1, .5, // 30 * 106   -1.5
                4.8, -1, .5, // 25 * 107   -2
                // Palo diagonal 2
                  6, -1, .5, // 29  108
                5.5, -1, .5, // 28  109
                4.8,  1, .5, // 27  110
                5.5,  1, .5, // 30  111
                //----------------------D ----------------------- 
                 // Frente palo 
                   7, -1, 1, // 112
                 6.5, -1, 1, // 113
                   7,  1, 1, // 114
                 6.5,  1, 1, // 115
                 // Palo aux
                   8, -.3, 1, // 116
                 7.5, -.3, 1, // 117
                   8,  .3, 1, // 118
                 7.5,  .3, 1, // 119
                 // Diagonal 1
                   7,  1, 1, // 66 120
                   8, .3, 1, // 70 121
                 7.5, .3, 1, // 71 122
                   7, .6, 1, //  123 
                 // Diagonal 2
                   7,  -1, 1, // 64 124
                   8, -.3, 1, // 68 125
                 7.5, -.3, 1, // 69 126
                   7, -.6, 1, //  127
                 // Atrás palo
                   7, -1, .5, // 128
                 6.5, -1, .5, // 129
                   7,  1, .5, // 130
                 6.5,  1, .5, // 131
                 // Palo aux atrás
                   8, -.3, .5, // 132
                 7.5, -.3, .5, // 133
                   8,  .3, .5, // 134
                 7.5,  .3, .5, // 135
                 // Diagonal 1 atrás
                   7,  1, .5, // 66 136
                   8, .3, .5, // 70 137
                 7.5, .3, .5, // 71 138
                   7, .6, .5, //  139
                 // Diagonal 2
                   7,  -1, .5, // 64 140
                   8, -.3, .5, // 68 141
                 7.5, -.3, .5, // 69 142
                   7, -.6, .5, //  143
                
                  
            ];
            var indices = [
                0,  1,  2,  1,  2,  3, // Letra N frente palo 1
                4,  5,  6,  5,  6,  7, // Letra N Atrás palo 1
                8,  9, 10,  9, 10, 11, // Letra N frente palo 2 
               12, 13, 14, 13, 14, 15, // Letra N Atrás palo 2 
               16, 17, 18, 16, 17, 19, // Letra N parte central frente
               20, 21, 22, 20, 21, 23, // Letra N parte central atrás
                0,  4,  6,  6,  0,  2, // Letra N lateral der palo 1
               16, 23, 19, 23, 16, 20, // Letra N lateral sup central
                8, 10, 12, 10, 12, 14, // Letra N Lateral der palo 2
                1,  3,  5,  3,  5,  7, // Letra N Lateral izq palo 1
                9, 11, 13, 11, 13, 15, // Letra N Lateral der palo 2
                2,  3,  6,  3,  6,  7, // Letra N Lateral arriba palo 1
               11, 10, 14, 11, 14, 15, // Letra N Lateral arriba palo 2  
               24, 25, 26, 24, 26, 27, // LEtra A Palo diagonal 1
               28, 29, 30, 28, 30, 31, // Letra A Palo diagonal 2
               32, 33, 34, 32, 34, 35, // Letra A Palo diagonal 1 atrás
               36, 37, 38, 36, 38, 39, // Letra A Palo diagonal 2 atrás
               24, 25, 32, 25, 32, 33, // Letra A lateral palo 1 izq
               31, 28, 36, 36, 31, 39, // Letra A lateral palo 2 der
               25, 26, 33, 26, 33, 39, // Letra A lateral arriba
               40, 41, 42, 40, 42, 43, // Letra V diagonal 1
               44, 45, 46, 44, 45, 47, // Letra V diagonal 2
               48, 49, 50, 48, 50, 51, // Letra V diagonal atrás 1
               52, 53, 54, 52, 53, 55, // Letra V diagonal atrás 2
               42, 50, 43, 50, 43, 51, // Letra V lateral izq
               47, 45, 55, 45, 55, 53, // Letra V lateral der
               43, 47, 55, 43, 55, 51, // Letra V lateral bajo
               56, 57, 58, 57, 58, 59, // Letra I frente
               60, 61, 62, 61, 62, 63, // Letra I Atrás
               56, 58, 62, 56, 62, 60, // Letra I Lateral der
               57, 59, 63, 57, 63, 61, // Letra I Lateral izq
               59, 58, 63, 58, 63, 62, // Letra I lateral arriba 73, 74, 75, 74, 75,
               64, 65, 66, 65, 66, 67, // Letra D palo 
               68, 69, 70, 69, 70, 71, // Letra D palo aux
               72, 73, 74, 72, 74, 75, // Letra D diagonal 1
               76, 77, 78, 76, 78, 79, // Letra D diagonal 2
               80, 81, 82, 81, 82, 83, // Letra D lateral palo atrás
               65, 67, 83, 65, 83, 81, // Letra D Lateral izq
               64, 66, 82, 64, 82, 80, // letra D lateral der
               67, 66, 83, 66, 83, 82, // Letra D lateral arriba
               84, 85, 86, 85, 86, 87, // Letra D palo aux atrás
               69, 71, 87, 69, 87, 85,
               68, 70, 86, 68, 86, 84, 
               88, 89, 90, 88, 90, 91,
               92, 93, 94, 92, 94, 95,
               66, 88, 70, 88, 70, 89,
               64, 92, 68, 92, 68, 93, 
               96, 97, 98, 96, 98, 99, // Letra A 
               100, 101, 102, 100, 102, 103,
               104, 105, 106, 104, 106, 107,
               108, 109, 110, 108, 110, 111,
               96, 97, 104, 97, 104, 105,
               100, 103, 108, 103, 108, 111,
               97, 98, 105, 98, 105, 111,
               112, 113, 114, 113, 114, 115, // Letra D
               116, 117, 118, 117, 118, 119,
               120, 121, 122, 120, 122, 123,
               124, 125, 126, 124, 126, 127,
               128, 129, 130, 129, 130, 131,
               113, 115, 131, 113, 131, 129,
               112, 114, 130, 112, 130, 128,
               115, 114, 131, 114, 131, 130,
               132, 133, 134, 133, 134, 135,
               117, 119, 135, 117, 135, 133,
               116, 118, 134, 116, 134, 132,
               136, 137, 138, 136, 138, 139,
               140, 141, 142, 140, 142, 143,
               114, 136, 118, 136, 118, 137,
               112, 140, 116, 140, 116, 141, 
            ];
            var colores = [
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,

               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,

               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,

               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,

               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,

               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,
               20/255, 90/255, 50/255, 1,

               1, 0, 0, 1,
               1, 0, 0, 1,
               1, 0, 0, 1,
               1, 0, 0, 1,

               1, 0, 0, 1,
               1, 0, 0, 1,
               1, 0, 0, 1,
               1, 0, 0, 1,

               1, 0, 0, 1,
               1, 0, 0, 1,
               1, 0, 0, 1,
               1, 0, 0, 1,

               1, 0, 0, 1,
               1, 0, 0, 1,
               1, 0, 0, 1,
               1, 0, 0, 1,

              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,

              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,
              
              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,

              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,
              241/255, 196/255, 15/255, 1,

              15/255, 125/255, 241/255, 1,
              15/255, 125/255, 241/255, 1,
              15/255, 125/255, 241/255, 1,
              15/255, 125/255, 241/255, 1,

              15/255, 125/255, 241/255, 1,
              15/255, 125/255, 241/255, 1,
              15/255, 125/255, 241/255, 1,
              15/255, 125/255, 241/255, 1,
              
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,

              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,

              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,

              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,

              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,

              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,

              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,

              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,
              20/255, 90/255, 50/255, 1,

              1, 0, 0, 1,
              1, 0, 0, 1,
              1, 0, 0, 1,
              1, 0, 0, 1,

              1, 0, 0, 1,
              1, 0, 0, 1,
              1, 0, 0, 1,
              1, 0, 0, 1,

              1, 0, 0, 1,
              1, 0, 0, 1,
              1, 0, 0, 1,
              1, 0, 0, 1,
              
              1, 0, 0, 1,
              1, 0, 0, 1,
              1, 0, 0, 1,
              1, 0, 0, 1,

            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,

            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,

            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,

            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,

            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,

            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,

            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,

            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,
            241/255, 196/255, 15/255, 1,


            ];
            this.letraNVAO = gl.createVertexArray();            
            gl.bindVertexArray(this.letraNVAO);            
            var codigoVertices = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoVertices);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
            gl.enableVertexAttribArray(0);
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);
            var codigoColores = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);
            gl.enableVertexAttribArray(1);
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);
            var codigoDeIndices = gl.createBuffer();
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, codigoDeIndices);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);
            gl.bindVertexArray(null);
            gl.bindBuffer(gl.ARRAY_BUFFER, null);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
          }
          dibuja(gl) {            
            gl.bindVertexArray(this.letraNVAO);
            gl.drawElements(gl.TRIANGLES, 414, gl.UNSIGNED_SHORT, 0);
            gl.bindVertexArray(null);
          }
        }
        
        class Piso {
          constructor(gl) {
              var vertices = [
                // Frente
                -1, -1,  1, // 4   0
                1, -1,  1, // 5   1
                1,  1,  1, // 6   2
                -1,  1,  1, // 7   3
                // Atrás
                -1,  1, -1, // 3   4
                1,  1, -1, // 2   5
                1, -1, -1, // 1   6
                -1, -1, -1, // 0   7
                // Izquierda
                -1, -1, -1, // 0   8
                -1, -1,  1, // 4   9
                -1,  1,  1, // 7  10 
                -1,  1, -1, // 3  11
                // Derecha
                1, -1,  1, // 5  12 
                1, -1, -1, // 1  13
                1,  1, -1, // 2  14
                1,  1,  1, // 6  15
                // Abajo
                -1, -1, -1, // 0  16
                1, -1, -1, // 1  17
                1, -1,  1, // 5  18
                -1, -1,  1, // 4  19
                // Arriba
                -1,  1,  1, // 7  20
                1,  1,  1, // 6  21
                1,  1, -1, // 2  22
                -1,  1, -1  // 3  23
            ];
            var colores = [
               // Frente - lila
               93/255, 109/255, 126/255, 1,
               93/255, 109/255, 126/255, 1,
               93/255, 109/255, 126/255, 1,
               93/255, 109/255, 126/255, 1,
               // Atrás - amarillo
               44/255, 62/255, 80/255, 1,
               44/255, 62/255, 80/255, 1,
               44/255, 62/255, 80/255, 1,
               44/255, 62/255, 80/255, 1,
               // Izquierda - celeste
               174/255, 182/255, 191/255, 1,
               174/255, 182/255, 191/255, 1,
               174/255, 182/255, 191/255, 1,
               174/255, 182/255, 191/255, 1,
               // Derecha - rojo
               33/255, 47/255, 60/255, 1,
               33/255, 47/255, 60/255, 1,
               33/255, 47/255, 60/255, 1,
               33/255, 47/255, 60/255, 1,
               // Abajo - azul
               52/255, 73/255, 94/255,1,
               52/255, 73/255, 94/255,1,
               52/255, 73/255, 94/255,1,
               52/255, 73/255, 94/255,1,
               // Arriba - verde
               52/255, 73/255, 94/255,1,
               52/255, 73/255, 94/255,1,
               52/255, 73/255, 94/255,1,
               52/255, 73/255, 94/255,1,
            ];
            var indices = [ 
              0,  1,  2,  0,  2,  3, // Frente
              4,  5,  6,  4,  6,  7, // Atrás
              8,  9, 10,  8, 10, 11, // Izquierda 
             12, 13, 14, 12, 14, 15, // Derecha
             16, 17, 18, 16, 18, 19, // Abajo
             20, 21, 22, 20, 22, 23  // Arriba
            ];
            this.pisoVAO = gl.createVertexArray();            
            gl.bindVertexArray(this.pisoVAO);            
            var codigoVertices = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoVertices);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
            gl.enableVertexAttribArray(0);
            gl.vertexAttribPointer(0, 3, gl.FLOAT, false, 0, 0);
            var codigoColores = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, codigoColores);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(colores), gl.STATIC_DRAW);
            gl.enableVertexAttribArray(1);
            gl.vertexAttribPointer(1, 4, gl.FLOAT, false, 0, 0);
            var codigoDeIndices = gl.createBuffer();
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, codigoDeIndices);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);
            gl.bindVertexArray(null);
            gl.bindBuffer(gl.ARRAY_BUFFER, null);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
          }
          dibuja(gl) {            
            gl.bindVertexArray(this.pisoVAO);
            gl.drawElements(gl.TRIANGLES, 36, gl.UNSIGNED_SHORT, 0);
            gl.bindVertexArray(null);
          }
        }
        

        function dibuja() {

          /* Inicializa el buffer de color y de profundidad */
          gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

          identidad(MatrizModelo);             
          escalacion(MatrizModelo, 2, 2, 2);   
          traslacion(MatrizModelo, -2, -.5, 0);
          multiplica(MatrizModelo, MatrizModelo, MatrizRotacion);                  
          
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo); 
          //navidad.dibuja(gl);      
          arbol.dibuja(gl);
          escalacion(MatrizModelo, .2, .2, .2);  
          traslacion(MatrizModelo, 0, 7.5, .2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          estrella.dibuja(gl);
                    
          traslacion(MatrizModelo, 4, -14, 0);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          regalo.dibuja(gl);
          rotacionY(MatrizModelo, 90);
          traslacion(MatrizModelo, -4, 0, 0);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          regalo2.dibuja(gl);

          escalacion(MatrizModelo, 1.5, 1.5, 1.5);
          rotacionY(MatrizModelo, 90);
          traslacion(MatrizModelo, 3, 0, -2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          regalo2.dibuja(gl);
          
          rotacionY(MatrizModelo, 30);
          traslacion(MatrizModelo, -5, 0, -2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          regalo.dibuja(gl);

          escalacion(MatrizModelo, 1.5, 1, 1.5);
          rotacionY(MatrizModelo, 110);
          traslacion(MatrizModelo, -4, 0, -3.5);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          regalo2.dibuja(gl);

          escalacion(MatrizModelo, .7, .7, .7);
          rotacionY(MatrizModelo, 30);
          traslacion(MatrizModelo, -1, 2.5, 0);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          regalo.dibuja(gl);

          escalacion(MatrizModelo, .3, .4, .3);  
          traslacion(MatrizModelo, 1, 5, 23);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          traslacion(MatrizModelo, -5, 2,  0);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, -3, -4, 2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, 2, -3, 0);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          traslacion(MatrizModelo, 7, 0, -1);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, -4, 15, -3);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, -5, 5, -1.5);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, -7, -12, 5);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          traslacion(MatrizModelo, 2, 7, -2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, -4, -14, 5);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, -2, -2, -7);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, 3, 10, -3);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, 3, 10, -3);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, -2, -5, -2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, -4, -10, -2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          traslacion(MatrizModelo, -2, -5, -2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          traslacion(MatrizModelo, 2, 5, -3);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, 4, -5, -2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, 4, 5, 0);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          traslacion(MatrizModelo, 4, 5, 1);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          traslacion(MatrizModelo, -10, 0, 2);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, 5, 10, 3);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, 10, -3, -4);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          traslacion(MatrizModelo, -2, 5, 4);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, 2, -2, 4);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, 5, -8, 8);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          traslacion(MatrizModelo, -2, 0, -8);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera3.dibuja(gl);

          traslacion(MatrizModelo, -1, 0, -9);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, 3, -5, 15);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, 1, -5, -10);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera2.dibuja(gl);

          traslacion(MatrizModelo, 0, -2, 5);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          esfera.dibuja(gl);

          
          escalacion(MatrizModelo, 6, 6, 6);
          rotacionY(MatrizModelo, -15);
          traslacion(MatrizModelo, 2, -.5, -7);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo);
          sillon.dibuja(gl);

          escalacion(MatrizModelo, .5, .5, .5); 
          rotacionY(MatrizModelo, 45) ;
          traslacion(MatrizModelo, -17, 14, 4);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo); 
          feliz.dibuja(gl);
          
          traslacion(MatrizModelo,  12.5, 0, 0);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo); 
          navidad.dibuja(gl);

          escalacion(MatrizModelo, 17, .2, 12); 
          traslacion(MatrizModelo,  -.15, -80, 0);
          gl.uniformMatrix4fv(uMatrizModelo, false, MatrizModelo); 
          piso.dibuja(gl)
          requestAnimationFrame(dibuja);

        }

        function mouseDown(event) {
          var posx = new Number();
          var posy = new Number();

          /* Obtiene la coordenada dentro de la área mayor */
          if (event.x != undefined && event.y != undefined) {
            posx = event.x;
            posy = event.y;
          } else {
            posx = event.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
            posy = event.clientY + document.body.scrollTop + document.documentElement.scrollTop;
          }

          /* Obtiene la coordenada dentro del canvas */
          posx = posx - canvas.offsetLeft;
          posy = posy - canvas.offsetTop;

          /* B = MatrizRotacion */
          B = MatrizRotacion.slice(); /* Copia */
          arcBall.primerPunto(posx, posy);

          boton_izq_presionado = true;

          return false;
        };

        function mouseUp(e){
          boton_izq_presionado = false;
        };

        function mouseMove(event) {

          if (!boton_izq_presionado)
            return false;

          var posx = new Number();
          var posy = new Number();

          /* Obtiene la coordenada dentro de la área mayor */
          if (event.x != undefined && event.y != undefined) {
            posx = event.x;
            posy = event.y;
          } else {
            posx = event.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
            posy = event.clientY + document.body.scrollTop + document.documentElement.scrollTop;
          }

          /* Obtiene la coordenada dentro del canvas */
          posx = posx - canvas.offsetLeft;
          posy = posy - canvas.offsetTop;

          /* Actualiza el segundo vector y obtiene el cuaternión */
          let q = arcBall.segundoPunto(posx, posy);

          /* Convierte el cuaternión a una matriz de rotación */
          Cuaternion.rota2(MatrizRotacion, q);

          /* MatrizRotacion = MatrizRotacion * B */
          multiplica(MatrizRotacion, MatrizRotacion, B);

        };

        function reinicia() {
          /* Matriz de Rotación */
          identidad(MatrizRotacion);

          dibuja();
        }

        function main() {

          /* Paso 1: Se prepara el lienzo y se obtiene el contexto del WebGL.        */
          canvas = document.getElementById("webglcanvas");

          gl = canvas.getContext("webgl2");
          if (!gl) {
             document.write("WebGL 2.0 no está disponible en tu navegador");
             return;
          }

          /* Para detectar los eventos del ratón */
          canvas.addEventListener("mousedown", mouseDown, false);
          canvas.addEventListener("mouseup", mouseUp, false);
          canvas.addEventListener("mouseout", mouseUp, false);
          canvas.addEventListener("mousemove", mouseMove, false);

          /* Para los botones */
          document.getElementById("reset").onclick = reinicia;

          /* Se define la ventana de despliegue */
          gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);

          /* Paso 2: Se crean, compilan y enlazan los programas Shader               */
          compilaEnlazaLosShaders();

          /* Paso 3: Se define la geometría y se almacenan en los buffers de memoria.*/
          arbol = new ArbolNavidad(gl);
          estrella = new Estrella(gl);
          esfera = new Esfera(gl, 1, 12, 12);
          esfera2 = new Esfera2(gl, 1, 12, 12);
          esfera3 = new Esfera3(gl, 1, 12, 12);
          regalo = new Regalo(gl);
          regalo2 = new Regalo2(gl);
          sillon = new Sillon(gl);
          feliz = new Feliz(gl);
          navidad = new Navidad(gl);
          piso = new Piso(gl);
          gl.lineWidth(1);
          arcBall = new ArcBall(500.0, 500.0);

          /* Paso 4: Se obtiene los ID de las variables de entrada de los shaders    */
          // Se utiliza los shaders
          gl.useProgram(programaID);

          // Obtiene los ID de las variables de entrada de los shaders
          //uColor = gl.getUniformLocation(programaID, "uColor");
          uMatrizProyeccion = gl.getUniformLocation(programaID, "uMatrizProyeccion");
          uMatrizVista = gl.getUniformLocation(programaID, "uMatrizVista");
          uMatrizModelo = gl.getUniformLocation(programaID, "uMatrizModelo");

          /* Paso 5: Se define la proyección                                        */
          // Define la Matriz de Proyección
          ortho(MatrizProyeccion, -12, 12, -5, 5, -9, 50);

          // Se envia la Matriz de Proyección al shader
          gl.uniformMatrix4fv(uMatrizProyeccion, false, MatrizProyeccion);

          /* Paso 6: Se renderizan los objetos                                       */

          /* Matriz del Vista */
          identidad(MatrizVista);

          // Se envia la Matriz de Vista al shader
          gl.uniformMatrix4fv(uMatrizVista, false, MatrizVista);

          /* Matriz de Rotación */
          identidad(MatrizRotacion);

          /* Ajusta el ancho a [-1..1] y el alto a [-1..1] */
          arcBall.ajusta(gl.canvas.width, gl.canvas.height);

          /* Habilita el ocultamiento de superficies */
          gl.enable(gl.DEPTH_TEST);

          // Color de fondo
          gl.clearColor(0, 0, 0, 1.0);

          dibuja();
        }

        /* Llama a main una vez que la página web se haya cargado. */
        window.onload = main;

      </script>
   </body>
</html>